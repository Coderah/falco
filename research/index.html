<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Whiskers</title>
    <style>
        section {
            max-width: 960px;
        }
        section.comments {
            border-top:solid 1px #E7E7E7;
        }
    </style>
</head>
<body>
    <script type="text/javascript" src="template.js"></script>
    <script src="data.js"></script>
    <script type="text/javascript">
        function buildPage() {
            return data[parseInt(Math.random() * data.length)];
        }

        var pages = [];

        var pageCount = 10;

        for (var i = 0; i < pageCount; i++) {
            pages.push(new PageTemplate());
        }

        requestAnimationFrame(function() {
            for (var i = 0; i < pages.length; i++) {
                pages[i].appendTo(document.body);
            }
        });

        function randomUpdate() {
            for (var i = 0; i < pages.length; i++) {
                pages[i].update(buildPage());
            }

            // requestAnimationFrame(randomUpdate);
        }
        
        requestAnimationFrame(randomUpdate);
    </script>
</body>
</html>
